{% extends 'base/base.html' %}
{% load static %}

{% block title %}Cocktails{% endblock %}

{% block extra_css %}
<link href="{% static 'css/cocktail.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
<!-- COCKTAIL INDEX (formerly cocktail_list.html)
     Purpose: Index/browse template for cocktails. Uses partials:
     - _cocktail_index_header.html
     - _cocktail_card.html
     - _search_filter_form.html
-->

<div class="container">
    <!-- COCKTAIL INDEX (formerly cocktail_list.html)
     Template for browsing cocktails with search and filters
     - _cocktail_index_header.html
     - _search_filter_form.html 
     - _cocktail_card.html partials
     - _pagination.html
-->

    {% include 'partials/shared/_cocktail_index_header.html' %}
    
    <!-- Search and Filter Form -->
    {% include 'partials/shared/_search_filter_form.html' %}
    
    <div class="row">
        <!-- List of cocktails rendered via _cocktail_card partial -->
        <div class="col-12">
            <div class="row g-4">
                {% for cocktail in page_obj %}
                    <div class="col-sm-6 col-md-4 col-lg-3">
                        {% include 'partials/cocktails/_cocktail_card.html' with cocktail=cocktail %}
                    </div>
                {% empty %}
                    <div class="col-12">
                        <div class="text-center py-5">
                            <div class="mb-3">
                                <i class="bi bi-cup-straw text-muted" style="font-size: 4rem;"></i>
                            </div>
                            <h4 class="text-muted">No cocktails found</h4>
                            <p class="text-muted">Try adjusting your search or filters</p>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>

    {% include 'partials/shared/_pagination.html' with page_obj=page_obj %}
</div>

{% endblock %}

{% block extra_js %}
<script src="{% static 'js/cocktail-search.js' %}"></script>
{% endblock %}
